@model IEnumerable<Mvc.Models.mvcSellerBlankets>
@{
    ViewBag.Title = "Index";
}

<!-- Modern Header -->
<header class="modern-header">
    <div class="header-content">
        <div class="brand-section">
            <div class="logo-icon">
                <svg width="32" height="32" viewBox="0 0 48 48" fill="none">
                    <path d="M24 4L44 14V34L24 44L4 34V14L24 4Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round" />
                    <path d="M24 4V44" stroke="currentColor" stroke-width="2" />
                    <path d="M4 14L44 34" stroke="currentColor" stroke-width="2" />
                    <path d="M44 14L4 34" stroke="currentColor" stroke-width="2" />
                </svg>
            </div>
            <div class="brand-text">
                <h1>Cozy Comfort</h1>
                <span class="brand-subtitle">Seller Portal</span>
            </div>
        </div>
        <div class="user-section">
            <div class="welcome-text">
                <span class="welcome-label">Welcome back,</span>
                <span class="user-name">@Session["UserName"]</span>
            </div>
            <a href="@Url.Action("Logout", "Login")" class="logout-btn">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                    <polyline points="16,17 21,12 16,7"></polyline>
                    <line x1="21" y1="12" x2="9" y2="12"></line>
                </svg>
                <span>Logout</span>
            </a>
        </div>
    </div>
</header>

<!-- Main Content -->
<div class="main-container">
    <div class="content-wrapper">
        <!-- Page Header -->
        <div class="page-header">
            <div class="page-title-section">
                <h2 class="page-title">Manage Blankets</h2>
                <p class="page-subtitle">Manage your product inventory with ease</p>
            </div>
            <div class="header-actions">
                <a href="@Url.Action("AddOrEdit", "Seller")" class="btn-primary">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="12" y1="5" x2="12" y2="19"></line>
                        <line x1="5" y1="12" x2="19" y2="12"></line>
                    </svg>
                    <span>Add New Product</span>
                </a>
            </div>
        </div>

        <!-- Products Table -->
        <div class="table-container">
            <div class="table-wrapper">
                <table class="modern-table">
                    <thead>
                        <tr>
                            <th>
                                <div class="th-content">
                                    @Html.DisplayNameFor(model => model.Name)
                                </div>
                            </th>
                            <th>
                                <div class="th-content">
                                    @Html.DisplayNameFor(model => model.Description)
                                </div>
                            </th>
                            <th>
                                <div class="th-content">
                                    @Html.DisplayNameFor(model => model.Quantity)
                                </div>
                            </th>
                            <th>
                                <div class="th-content">
                                    @Html.DisplayNameFor(model => model.Price)
                                </div>
                            </th>
                            <th>
                                <div class="th-content">
                                    Actions
                                </div>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr class="table-row">
                                <td>
                                    <div class="cell-content">
                                        <span class="product-name">@Html.DisplayFor(modelItem => item.Name)</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="cell-content">
                                        <span class="product-description">@Html.DisplayFor(modelItem => item.Description)</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="cell-content">
                                        <span class="quantity-badge">@Html.DisplayFor(modelItem => item.Quantity)</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="cell-content">
                                        <span class="price-text">$@Html.DisplayFor(modelItem => item.Price)</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="action-buttons">
                                        <a href="@Url.Action("AddOrEdit", "Seller", new { id = item.BlanketId })" class="btn-edit">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                            </svg>
                                            <span>Edit</span>
                                        </a>
                                        <button onclick="Delete(@item.BlanketId)" class="btn-delete">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <polyline points="3,6 5,6 21,6"></polyline>
                                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                            </svg>
                                            <span>Delete</span>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Empty State (if no products) -->
        @if (Model == null || !Model.Any())
        {
            <div class="empty-state">
                <div class="empty-icon">
                    <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                        <line x1="9" y1="9" x2="15" y2="15"></line>
                        <line x1="15" y1="9" x2="9" y2="15"></line>
                    </svg>
                </div>
                <h3>No products found</h3>
                <p>Start by adding your first product to the inventory</p>
                <a href="@Url.Action("AddOrEdit", "Seller")" class="btn-primary">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="12" y1="5" x2="12" y2="19"></line>
                        <line x1="5" y1="12" x2="19" y2="12"></line>
                    </svg>
                    <span>Add First Product</span>
                </a>
            </div>
        }
    </div>
</div>

@section scripts{
    <script>
        $(function () {
            var successMessage = '@TempData["SuccessMessage"]';
            if (successMessage != '')
                alertify.success(successMessage);
        });

        function Delete(id) {
            alertify.confirm('Confirm Deletion', 'Are you sure you want to delete this product?',
            function () {
                window.location.href = '@Url.Action("Delete", "Seller")/' + id;
            },
            function () {
                alertify.error('Deletion cancelled');
            });
        }

        // Enhanced table interactions
        document.querySelectorAll('.table-row').forEach(row => {
            row.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-1px)';
            });

            row.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });
    </script>
}

<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
        background: linear-gradient(145deg, #fff5f5 0%, #ffebeb 100%);
        min-height: 100vh;
    }

    .modern-header {
        background: white;
        border-bottom: 1px solid #ffe5d9;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        position: sticky;
        top: 0;
        z-index: 100;
    }

    .header-content {
        max-width: 1200px;
        margin: 0 auto;
        padding: 1.2rem 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .brand-section {
        display: flex;
        align-items: center;
        gap: 1rem;
    }

    .logo-icon {
        color: #ff6b6b;
    }

    .brand-text h1 {
        font-size: 1.6rem;
        font-weight: 700;
        color: #2d1b4e;
        margin: 0;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    }

    .brand-subtitle {
        font-size: 0.85rem;
        color: #7b6b9a;
        font-weight: 500;
    }

    .user-section {
        display: flex;
        align-items: center;
        gap: 1.5rem;
    }

    .welcome-text {
        display: flex;
        flex-direction: column;
        align-items: end;
    }

    .welcome-label {
        font-size: 0.75rem;
        color: #7b6b9a;
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }

    .user-name {
        font-size: 1rem;
        font-weight: 600;
        color: #2d1b4e;
    }

    .logout-btn {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.5rem 1rem;
        background: #fff7f0;
        border: 1px solid #ffe5d9;
        border-radius: 8px;
        color: #ff6b6b;
        text-decoration: none;
        font-size: 0.875rem;
        font-weight: 500;
        transition: all 0.3s ease;
    }

        .logout-btn:hover {
            background: #ff6b6b;
            border-color: #ff6b6b;
            color: white;
            transform: translateY(-1px);
            text-decoration: none;
        }

    .main-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem;
    }

    .content-wrapper {
        background: white;
        border-radius: 16px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
        overflow: hidden;
        border: 1px solid #ffe5d9;
    }

    .page-header {
        padding: 2rem;
        background: linear-gradient(135deg, #ff6b6b 0%, #c71585 100%);
        color: white;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .page-title {
        font-size: 1.8rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
    }

    .page-subtitle {
        font-size: 0.95rem;
        opacity: 0.9;
    }

    .header-actions {
        display: flex;
        gap: 1rem;
    }

    .btn-primary {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.75rem 1.5rem;
        background: rgba(255, 255, 255, 0.2);
        border: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: 10px;
        color: white;
        text-decoration: none;
        font-weight: 600;
        backdrop-filter: blur(8px);
        transition: all 0.3s ease;
    }

        .btn-primary:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.02);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            color: white;
            text-decoration: none;
        }

    .table-container {
        padding: 2rem;
    }

    .table-wrapper {
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
    }

    .modern-table {
        width: 100%;
        border-collapse: collapse;
        background: white;
    }

        .modern-table thead {
            background: #fff7f0;
            border-bottom: 2px solid #ffe5d9;
        }

        .modern-table th {
            padding: 1rem;
            text-align: left;
        }

    .th-content {
        font-weight: 600;
        color: #2d1b4e;
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }

    .table-row {
        border-bottom: 1px solid #fff5f5;
        transition: all 0.3s ease;
    }

        .table-row:hover {
            background: #fff7f0;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            transform: translateY(-1px);
        }

    .modern-table td {
        padding: 1rem;
        vertical-align: middle;
    }

    .cell-content {
        display: flex;
        align-items: center;
    }

    .product-name {
        font-weight: 600;
        color: #2d1b4e;
    }

    .product-description {
        color: #7b6b9a;
        max-width: 200px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    .quantity-badge {
        background: linear-gradient(135deg, #ff8e53 0%, #ff6b6b 100%);
        color: white;
        padding: 0.3rem 0.8rem;
        border-radius: 20px;
        font-size: 0.85rem;
        font-weight: 600;
    }

    .price-text {
        font-weight: 700;
        color: #c71585;
        font-size: 1.1rem;
    }

    .action-buttons {
        display: flex;
        gap: 0.5rem;
    }

    .btn-edit, .btn-delete {
        display: flex;
        align-items: center;
        gap: 0.3rem;
        padding: 0.5rem 0.75rem;
        border-radius: 8px;
        font-size: 0.85rem;
        font-weight: 500;
        text-decoration: none;
        border: none;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .btn

    -edit {
        background: #fff7f0;
        color: #ff8e53;
        border: 1px solid #ffe5d9;
    }

    .btn-edit:hover {
        background: #ff8e53;
        color: white;
        transform: translateY(-1px);
        text-decoration: none;
    }

    .btn-delete {
        background: #ffe5d9;
        color: #e53e3e;
        border: 1px solid #ff6b6b;
    }

        .btn-delete:hover {
            background: #ff6b6b;
            color: white;
            transform: translateY(-1px);
        }

    .empty-state {
        text-align: center;
        padding: 4rem 2rem;
        color: #7b6b9a;
    }

    .empty-icon {
        margin-bottom: 1rem;
        color: #ffe5d9;
    }

    .empty-state h3 {
        font-size: 1.5rem;
        font-weight: 600;
        color: #2d1b4e;
        margin-bottom: 0.5rem;
    }

    .empty-state p {
        margin-bottom: 2rem;
        font-size: 0.95rem;
    }

    .empty-state .btn-primary {
        background: linear-gradient(135deg, #ff6b6b 0%, #c71585 100%);
        border: none;
        color: white;
        display: inline-flex;
    }

        .empty-state .btn-primary:hover {
            background: linear-gradient(135deg, #c71585 0%, #ff6b6b 100%);
            color: white;
        }

    /* Mobile Responsiveness */
    @@media (max-width: 1024px) {
        .header-content {
            padding: 1rem;
        }

        .page-header {
            flex-direction: column;
            gap: 1.5rem;
            text-align: center;
        }

        .main-container {
            padding: 1rem;
        }

        .table-container {
            padding: 1rem;
            overflow-x: auto;
        }

        .modern-table {
            min-width: 600px;
        }
    }

    @@media (max-width: 768px) {
        .brand-section {
            gap: 0.5rem;
        }

        .brand-text h1 {
            font-size: 1.25rem;
        }

        .user-section {
            gap: 1rem;
        }

        .welcome-text {
            display: none;
        }

        .page-title {
            font-size: 1.5rem;
        }

        .page-subtitle {
            font-size: 0.875rem;
        }

        .action-buttons {
            flex-direction: column;
            gap: 0.25rem;
        }

        .btn-edit, .btn-delete {
            font-size: 0.75rem;
            padding: 0.375rem 0.5rem;
        }
    }

    @@media (max-width: 480px) {
        .header-content {
            flex-direction: column;
            gap: 1rem;
        }

        .page-header {
            padding: 1.5rem 1rem;
        }

        .modern-table th,
        .modern-table td {
            padding: 0.75rem 0.5rem;
        }

        .product-description {
            max-width: 120px;
        }
    }
</style>